# Network Configuration
spark.driver.bindAddress                0.0.0.0
spark.blockManager.port                 0
spark.network.timeout                   800s
spark.rpc.askTimeout                    600s
spark.sql.broadcastTimeout              36000

# Dynamic Allocation Configuration
spark.dynamicAllocation.enabled         false
spark.shuffle.service.enabled           false

# UI Configuration
spark.ui.enabled                        true
spark.ui.port                           4040

# Executor Configuration  
spark.executor.instances                2
spark.executor.cores                    1
spark.executor.memory                   512m
spark.executor.memoryFraction           0.8
spark.driver.memory                     512m
spark.driver.maxResultSize              256m

# Serialization
spark.serializer                        org.apache.spark.serializer.KryoSerializer

# SQL Configuration
spark.sql.adaptive.enabled              true
spark.sql.adaptive.coalescePartitions.enabled  true

# AWS Configuration for MinIO/S3
spark.hadoop.fs.s3a.aws.credentials.provider  org.apache.hadoop.fs.s3a.SimpleAWSCredentialsProvider
spark.hadoop.fs.s3a.endpoint            http://minio:9000
spark.hadoop.fs.s3a.path.style.access   true
spark.hadoop.fs.s3a.connection.ssl.enabled  false
spark.hadoop.fs.s3a.impl                org.apache.hadoop.fs.s3a.S3AFileSystem
spark.sql.catalog.iceberg.s3.region     us-east-1
spark.hadoop.fs.s3a.bucket.all.committer.magic.enabled  false

# AWS SDK Configuration
spark.driver.extraJavaOptions           -Daws.region=us-east-1 -Dsoftware.amazon.awssdk.http.service.impl=software.amazon.awssdk.http.urlconnection.UrlConnectionSdkHttpService
spark.executor.extraJavaOptions         -Daws.region=us-east-1 -Dsoftware.amazon.awssdk.http.service.impl=software.amazon.awssdk.http.urlconnection.UrlConnectionSdkHttpService